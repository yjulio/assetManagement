{% extends 'base.html' %}

{% block content %}
<div style="max-width:700px;margin:20px auto;padding:20px;">
  <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:30px;">
    <h2 style="margin:0;color:#2c3e50;">Assign Asset</h2>
    <a href="{{ url_for('assets') }}" style="background-color:#95a5a6;color:white;padding:10px 20px;text-decoration:none;border-radius:5px;">‚Üê Back to Assets</a>
  </div>

  <div style="background:white;border-radius:8px;box-shadow:0 2px 10px rgba(0,0,0,0.1);padding:30px;">
    <!-- Asset Info Card -->
    <div style="background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:white;padding:20px;border-radius:8px;margin-bottom:30px;">
      <div style="font-size:14px;opacity:0.9;margin-bottom:5px;">Assigning Asset:</div>
      <div style="font-size:24px;font-weight:600;">{{ asset_name }}</div>
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:15px;margin-top:15px;padding-top:15px;border-top:1px solid rgba(255,255,255,0.3);">
        <div>
          <div style="font-size:12px;opacity:0.8;">Category</div>
          <div style="font-size:16px;font-weight:500;">{{ asset.category or '-' }}</div>
        </div>
        <div>
          <div style="font-size:12px;opacity:0.8;">Current Quantity</div>
          <div style="font-size:16px;font-weight:500;">{{ asset.quantity }}</div>
        </div>
      </div>
    </div>

    <form method="post">
    <input type="hidden" name="csrf_token" value="{{ csrf_token }}">
      <!-- Person Information Section -->
      <div style="margin-bottom:30px;border-bottom:2px solid #f39c12;padding-bottom:20px;">
        <h3 style="margin:0 0 20px 0;color:#f39c12;font-size:18px;display:flex;align-items:center;gap:10px;">
          <span>üë§</span> Person Information
        </h3>
        
        <div style="margin-bottom:20px;">
          <label for="person" style="display:block;font-weight:600;color:#2c3e50;margin-bottom:8px;">
            Person Name <span style="color:#e74c3c;">*</span>
          </label>
          <input type="text" id="person" name="person" required
                 placeholder="Enter person name"
                 style="width:100%;padding:12px;border:2px solid #dfe6e9;border-radius:5px;font-size:15px;box-sizing:border-box;">
        </div>

        <div style="margin-bottom:20px;">
          <label for="department" style="display:block;font-weight:600;color:#2c3e50;margin-bottom:8px;">
            Department <span style="color:#e74c3c;">*</span>
          </label>
          <input type="text" id="department" name="department" required
                 value="{{ asset.department or '' }}"
                 placeholder="Enter department"
                 style="width:100%;padding:12px;border:2px solid #dfe6e9;border-radius:5px;font-size:15px;box-sizing:border-box;">
        </div>

        <div style="margin-bottom:20px;">
          <label for="location" style="display:block;font-weight:600;color:#2c3e50;margin-bottom:8px;">
            Location <span style="color:#e74c3c;">*</span>
          </label>
          <input type="text" id="location" name="location" required
                 value="{{ asset.location or '' }}"
                 placeholder="Enter location"
                 style="width:100%;padding:12px;border:2px solid #dfe6e9;border-radius:5px;font-size:15px;box-sizing:border-box;">
        </div>
      </div>

      <!-- Additional Information Section -->
      <div style="margin-bottom:30px;">
        <h3 style="margin:0 0 20px 0;color:#9b59b6;font-size:18px;display:flex;align-items:center;gap:10px;">
          <span>üìù</span> Additional Information
        </h3>
        
        <div style="margin-bottom:20px;">
          <label for="notes" style="display:block;font-weight:600;color:#2c3e50;margin-bottom:8px;">
            Assignment Notes
          </label>
          <textarea id="notes" name="notes" rows="4"
                    placeholder="Enter any notes about this assignment (optional)"
                    style="width:100%;padding:12px;border:2px solid #dfe6e9;border-radius:5px;font-size:15px;box-sizing:border-box;resize:vertical;font-family:inherit;"></textarea>
        </div>
      </div>

      <!-- Action Buttons -->
      <div style="display:flex;gap:10px;justify-content:flex-end;padding-top:20px;border-top:1px solid #ecf0f1;">
        <a href="{{ url_for('assets') }}" 
           style="background-color:#95a5a6;color:white;padding:12px 30px;text-decoration:none;border-radius:5px;font-weight:600;display:inline-flex;align-items:center;gap:8px;">
          Cancel
        </a>
        <button type="submit" 
                style="background:linear-gradient(135deg,#f39c12 0%,#e67e22 100%);color:white;padding:12px 30px;border:none;border-radius:5px;font-weight:600;cursor:pointer;display:inline-flex;align-items:center;gap:8px;">
          <span>‚úì</span> Assign Asset
        </button>
      </div>
    </form>
  </div>

  <!-- Info Notice -->
  <div style="background-color:#e3f2fd;border-left:4px solid #2196f3;padding:15px;margin-top:20px;border-radius:4px;">
    <div style="font-weight:600;color:#1976d2;margin-bottom:5px;">‚ÑπÔ∏è Assignment Information</div>
    <div style="color:#424242;font-size:14px;">
      This will assign the asset to the specified person and update the department and location. 
      A transaction record will be created for tracking purposes.
    </div>
  </div>
</div>
{% endblock %}
